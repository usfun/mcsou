/** * aui-popup.js * @author 流浪男 * @todo more things to abstract, e.g. Loading css etc. * Licensed under the MIT license. * http://www.opensource.org/licenses/mit-license.php */(function(f,g){var c=function(){};c.prototype={create:function(a,b){var c=this,d="";switch(a.type){case "success":var e='\x3ci class\x3d"aui-iconfont aui-icon-correct"\x3e\x3c/i\x3e';break;case "fail":e='\x3ci class\x3d"aui-iconfont aui-icon-close"\x3e\x3c/i\x3e';break;case "custom":e=a.html;break;case "loading":e='\x3cdiv class\x3d"aui-toast-loading"\x3e\x3c/div\x3e'}d='\x3cdiv class\x3d"aui-toast"\x3e'+e+(a.title?'\x3cdiv class\x3d"aui-toast-content"\x3e'+a.title+"\x3c/div\x3e":"")+"\x3c/div\x3e";document.querySelector(".aui-toast")||(document.body.insertAdjacentHTML("beforeend",d),d=a.duration?a.duration:"2000",c.show(),"loading"==a.type?b&&b({status:"success"}):setTimeout(function(){c.hide()},d))},show:function(){document.querySelector(".aui-toast").style.display="block";document.querySelector(".aui-toast").style.marginTop="-"+Math.round(document.querySelector(".aui-toast").offsetHeight/2)+"px";document.querySelector(".aui-toast")},hide:function(){document.querySelector(".aui-toast")&&document.querySelector(".aui-toast").parentNode.removeChild(document.querySelector(".aui-toast"))},remove:function(){document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog"));document.querySelector(".aui-mask")&&document.querySelector(".aui-mask").classList.remove("aui-mask-out");return!0},success:function(a,b){a.type="success";return this.create(a,b)},fail:function(a,b){a.type="fail";return this.create(a,b)},custom:function(a,b){a.type="custom";return this.create(a,b)},loading:function(a,b){a.type="loading";return this.create(a,b)}};f.auiToast=c})(window);